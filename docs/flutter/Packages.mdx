## Flutter Packages

Packages are reusable libraries of code in dart.
Anyone can create a package and upload it to [pub.dev](https://pub.dev).
We use several packages of our own creation, as well as others.

There is lots of good documentation on [pub.dev](https://pub.dev) for each package.
You can usually also browse the API reference.

## Usage

To use a package add a line to your `pubspec.yaml` in the root of the flutter project.
This line contains the package name followed by a colon and a version number.
The `^` means any package that is compatible with that version.
Since we are usually pretty flexible with the version and are constantly updating our code,
sometimes you'll see the key `any` which specifies that we are okay with any version.
This will fetch the latest version from [pub.dev](https://pub.dev)

```yaml
dependencies:
  your_package_name: ^0.0.1
  another_package: any
```

Quick packages:
TODO: Add in common_widgets and common_utils
```yaml
dependencies:
  flutter:
    sdk: flutter
  provider: any
  riverpod: any
  flutter_hooks: any
  dartx: any
  widgetx: any
  rxdart: any
  basics: any
  dartz: any
  intl: any
  async: any
  tuple: ^1.0.3
  fluttertoast: ^4.0.0
  flutter_rosutils: any
  json_annotation: any
  freezed_annotation: any
  pedantic: ^1.8.0

dev_dependencies:
  flutter_test:
    sdk: flutter
  json_serializable: any
  build_runner: any
  freezed: any
  dshell: any
  derry: any
  fvm: any

dependency_overrides:
  roslib:
    git:
      url: https://github.com/TimWhiting/roslib

scripts:
  recreate:
    - flutter create .
    - rm -r android
    - rm -r ios
  macos:
    - flutter run -d macos
  linux:
    - flutter run -d Linux
  windows:
    - flutter run -d Windows
  web:
    - flutter run -d chrome --web-port=8080 --web-hostname=localhost
  gen:
    - flutter pub run build_runner build --delete-conflicting-outputs
  genw:
    - flutter pub run build_runner watch --delete-conflicting-outputs
```

## Common Packages Recommended for use in all new projects, and integration into old projects

- [provider](https://pub.dev/packages/provider)
- [roslib](https://pub.dev/packages/roslib)

## New Packages To Start Using

Currently we aren't using everywhere, but probably should use (in order of usefulness in day-to-day work):

- [dartx](https://pub.dev/packages/dartx)
- [flutter_hooks](https://pub.dev/packages/flutter_hooks)
- [dartros](https://pub.dev/packages/dartros)
- [xcontext](https://pub.dev/packages/xcontext)
- [basics](https://pub.dev/packages/basics)
- [widgetx](https://pub.dev/packages/widgetx)
- [derry](https://pub.dev/packages/derry)
- [freezed](https://pub.dev/packages/freezed)
- [breakpoint](https://pub.dev/packages/breakpoint)
- [wiredash](https://pub.dev/packages/wiredash)
- [flutter_launcher_icons](https://pub.dev/packages/flutter_launcher_icons) -- however, this [fork](https://github.com/personalizedrefrigerator/flutter_launcher_icons) is currently needed to generate icons for web

## Packages to explore

- [fluttercommunity packages](https://pub.dev/publishers/fluttercommunity.dev/packages)
- [textstyle_extensions](https://pub.dev/packages/textstyle_extensions)
- [rnd](https://pub.dev/packages/rnd)
- [cubit](https://pub.dev/packages/cubit)
- [flutter_cubit](https://pub.dev/packages/flutter_cubit)

## Custom Packages

- [dartros](https://pub.dev/packages/dartros) (Still a work in progress)
- [flutter_rosutils](https://pub.dev/packages/flutter_rosutils) Some helpers for the roslib library to keep state of flutter application in sync with what is happening in ROS
- [dart_statistics](https://pub.dev/packages/dart_statistics) Used in the proficiency assessment work, with the mouse-cheese world flutter application

## Sawyer Faces

- [flare_flutter](https://pub.dev/packages/flare_flutter) (Animation framework)

## Speech App

- [googleapis](https://pub.dev/packages/googleapis)

## SSharp

- [socket_io](https://pub.dev/packages/socket_io)

## State Management Recommendations

Use any of the following options, they each have their benefits.
Most of what we have done is the first option. However, with mutable state it can cause bad states more frequently.
Immutable states are highly recommended to avoid two mutations that cause inconsistent state.
See the [freezed package](https://pub.dev/packages/freezed) for my recommendation on making states immutable.
Also, recommended to design with the goal in mind of making illegal states unrepresentable.
See [this](https://www.youtube.com/watch?v=RMiN59x3uH0&list=PLB6lc7nQ1n4iS5p-IezFFgqP6YvAJy84U) tutorial series for more info.
(It shows very good clean architecture principles)

For UI related state, (animations / text controllers, etc) please use [flutter_hooks](https://pub.dev/packages/flutter_hooks)

- [StateNotifier](https://pub.dev/packages/state_notifier) along with [riverpod](https://pub.dev/packages/riverpod)
